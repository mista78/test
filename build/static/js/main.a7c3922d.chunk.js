(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a(260)},155:function(e,t){},156:function(e,t){},157:function(e,t){},163:function(e,t){},165:function(e,t){},200:function(e,t){},201:function(e,t){},253:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=253},257:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a(41),c=(a(120),a(0)),i=a.n(c),s=a(23),u=a(9),m=a(6),l=a.n(m),o=a(20),p=a(121),d=a.n(p).a.create({headers:{"Client-ID":"konp54pwem1n35thhka2nrn620q6xdu"}});var f=function(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)(function(){!function(){var e=Object(o.a)(l.a.mark(function e(){var t,a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("https://api.twitch.tv/helix/games/top?first=25");case 2:t=e.sent,a=t.data.data,n=a.map(function(e){var t=e.box_art_url.replace("{width}","285").replace("{height}","380");return e.box_art_url=t,e}),r(n);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),i.a.createElement("div",null,i.a.createElement("div",{className:"row"},a.map(function(e){return i.a.createElement("div",{key:e.id,className:"col-lg-2 col-md-3 col-sm-4 col-6 mt-5"},i.a.createElement("div",{className:"card"},i.a.createElement(u.b,{className:"link",to:{pathname:"/stream/"+e.name,state:{gameID:e.id}}},i.a.createElement("img",{className:"card-img-top",alt:"",src:e.box_art_url}))))})))},v=a(124),h=a.n(v);a(154);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var E=function(e){var t=e.match,a=(e.test,e.setTest,Object(c.useState)([{user_name:t.params.id?t.params.id:""}])),r=Object(n.a)(a,2),s=r[0],u=r[1],m=Object(c.useState)(0),p=Object(n.a)(m,2),f=p[0],v=p[1],b=Object(c.useState)({data:[]}),E=Object(n.a)(b,2),w=E[0],O=E[1],_=Object(c.useState)({name:t.params.id?t.params.id:""}),j=Object(n.a)(_,2),N=j[0],x=j[1],k=function(){var e=Object(o.a)(l.a.mark(function e(){var t,a,n,r,c,i,s,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("https://api.twitch.tv/helix/streams?language=fr&limit=10 ");case 2:return t=e.sent,a=t.data.data,n=a.map(function(e){return e.game_id}),r="",n.map(function(e){return r+="id=".concat(e,"&")}),c="https://api.twitch.tv/helix/games?"+r,e.next=11,d.get(c);case 11:i=e.sent,s=i.data.data,m=a.map(function(e){e.gameName="",s.map(function(t){if(e.game_id===t.id)return e.gameName=t.name});var t=e.thumbnail_url.replace("{width}","320").replace("{height}","180");return e.thumbnail_url=t,e}),u(m);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=function(){};Object(c.useEffect)(function(){k().then(y);var e=setInterval(function(){return k().then(y)},15e3);return function(){return clearInterval(e)}},[]);var S=function(){var e=Object(o.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.id){e.next=7;break}return e.next=3,d.get("https://api.twitch.tv/helix/streams?user_id="+N.id);case 3:t=e.sent,(a=g({},w)).data=t.data.data[0],O(a);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(function(){if(""==N.name){var e=g({},N);e.name=s[0].user_name,x(e)}var t=g({},w);t.value=w.data.viewer_count?w.data.viewer_count:s[0].viewer_count,v(t),S()},[s]);var D=function(e){var t=g({},N),a=g({},f);a.value=e.target.getAttribute("vie"),t.name=e.target.getAttribute("value"),t.id=e.target.getAttribute("id"),v(a),x(t)},P="https://www.twitch.tv/"+N.name.toLowerCase();return i.a.createElement("div",null,i.a.createElement("div",{className:"left"},i.a.createElement("span",{className:"viewer"},f.value),i.a.createElement(h.a,{width:"100%",url:P,playing:!0})),i.a.createElement("div",{className:"right"},i.a.createElement("div",{className:"row"},s.map(function(e){return i.a.createElement("div",{key:e.user_name,className:"col-lg-12 col-md-12 col-sm-12 mt-5"},i.a.createElement("div",{className:"card"},i.a.createElement("h1",null),i.a.createElement("span",{className:"spanF","data-count":e.user_name,onClick:D},i.a.createElement("img",{value:e.user_name,id:e.user_id,vie:e.viewer_count,className:"card-img-top",alt:"",src:e.thumbnail_url}))))}))))};var w=function(e){var t=e.data;return i.a.createElement("nav",{className:"navbar fixed-top"},i.a.createElement("ul",null,i.a.createElement("li",{className:"nav-item nav-link"},i.a.createElement(u.b,{to:"/"},"Home")),i.a.createElement("li",{className:"nav-item nav-link"},i.a.createElement(u.b,{to:"/game"},"Top Games")),i.a.createElement("li",{className:"nav-item nav-link"},i.a.createElement(u.b,{to:"/top-streams"},"Top Live Streams")),i.a.createElement("li",{className:"nav-item nav-link"},i.a.createElement(u.b,{to:"/top-streams"},t))))};var O=function(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)(function(){!function(){var e=Object(o.a)(l.a.mark(function e(){var t,a,n,c,i,s,u,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("https://api.twitch.tv/helix/streams?first=60&language=fr");case 2:return t=e.sent,a=t.data.data,n=a.map(function(e){return e.game_id}),c="",n.map(function(e){return c+="id=".concat(e,"&")}),i="https://api.twitch.tv/helix/games?"+c,e.next=11,d.get(i);case 11:s=e.sent,u=s.data.data,m=a.map(function(e){e.gameName="",u.map(function(t){if(e.game_id===t.id)return e.gameName=t.name});var t=e.thumbnail_url.replace("{width}","320").replace("{height}","180");return e.thumbnail_url=t,e}),r(m);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),i.a.createElement("div",null,i.a.createElement("div",{className:"row"},a.map(function(e){return i.a.createElement("div",{key:e.user_name,className:"col-lg-3 col-md-4 col-sm-12 mt-5"},i.a.createElement("div",{className:"card"},i.a.createElement(u.b,{className:"link views","data-count":e.user_name,to:{pathname:"/views/"+e.user_name}},i.a.createElement("img",{className:"card-img-top",alt:"",src:e.thumbnail_url}))))})))};var _=function(e){e.match;var t=e.location,a=Object(c.useState)([]),r=Object(n.a)(a,2),s=r[0],m=r[1];return console.log(t),Object(c.useEffect)(function(){!function(){var e=Object(o.a)(l.a.mark(function e(){var a,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("https://api.twitch.tv/helix/streams?game_id=".concat(t.state.gameID,"&first=24&language=fr"));case 2:a=e.sent,n=a.data.data,r=n.map(function(e){var t=e.thumbnail_url.replace("{width}","320").replace("{height}","180");return e.thumbnail_url=t,e}),m(r);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),i.a.createElement("div",null,i.a.createElement("div",{className:"row"},s.map(function(e){return i.a.createElement("div",{key:e.user_name,className:"col-lg-3 col-md-4 col-sm-12 mt-5"},i.a.createElement("div",{className:"card"},i.a.createElement(u.b,{className:"link views","data-count":e.user_name,to:{pathname:"/views/"+e.user_name}},i.a.createElement("img",{className:"card-img-top",alt:"",src:e.thumbnail_url}))))})))},j=a(125),N=a.n(j);a(257),a(258),a(259);var x=document.getElementById("root");N.a.render(i.a.createElement(function(){var e=Object(c.useState)(100),t=Object(n.a)(e,2),a=t[0],r=t[1];return i.a.createElement(c.Fragment,null,i.a.createElement(u.a,null,i.a.createElement(w,{data:a}),i.a.createElement("div",{className:"App container-fluid"},"``",i.a.createElement(s.a,{exact:!0,path:"/",component:E}),i.a.createElement(s.a,{path:"/game",component:f}),i.a.createElement(s.a,{path:"/top-streams",component:O}),i.a.createElement(s.a,{exact:!0,path:"/stream/:id",component:_})),i.a.createElement(s.a,{path:"/views/:id",render:function(e){return i.a.createElement(E,Object.assign({},e,{test:a,setTest:r}))}})))},null),x)}},[[126,1,2]]]);
//# sourceMappingURL=main.a7c3922d.chunk.js.map